<template>
    <div class="m-publish-cj">
        <!-- ğŸ’› é¢„è®¾é€‰é¡¹ -->
        <boilerplate

            :name="name"
            :localDraft="true"
            labelPostion="left"
            :title="post.title"

            mode="tinymce"
            :content="post.content"

            :excerptEnable="false"
            :excerpt="post.excerpt"

            :tagEnable="false"
            :tags="post.tags"

            :notifyEnable="false"
            :notify="notify"

            :bannerEnable="false"
            :banner="post.banner"

            @publish="toPublish"
            @draft="toDraft"
        >

        <!-- ğŸ’› æ ç›®å­—æ®µ -->
            <!-- TODO:è®¾ç½®æ ç›®ç‰¹æ®Šå­—æ®µ -->
            <el-form-item label="æ ‡ç­¾">
                ...
            </el-form-item>

        </boilerplate>

    </div>
</template>

<script>
import boilerplate from "../components/publish/boilerplate";

// ä¾èµ–
// TODO:ä½ çš„ä¾èµ–

export default {
    name: "demo",
    props: [],
    data: function() {
        return {

            // TODO:4.é€‰é¡¹æ•°æ®è®¾ç½®
            // begin>>---------------------
            name: "æˆå°±æ”»ç•¥",

            //é€‰é¡¹
            options: {
                xx : []
            },

            //å–å€¼
            info: {
                xx : ''
            },

            // <<end---------------------

            //æ–‡ç« 
            post : {
                title : '',
                content : '',
                excerpt : '',
                tags : [],
                banner : ''
            },

            //éƒ¨åˆ†æ ç›®é»˜è®¤ä¸è¦å¼€å¯ç›¸å…³åŠŸèƒ½
            notify : {
                feedEnable: false,
                followEnable: false,
                weiboEnable: false,
                tuilanEnable: false,
            },
        };
    },
    computed: {},
    watch : {
        info : function (val){
            this.$store.commit('editInfo',val)
        }
    },
    methods: {
        // TODO:åŠ è½½ç¼–è¾‘å†…å®¹,æ¥å£éœ€è¦è¿›è¡Œé‰´æƒ
        loadOrigin:function (){
            // ?edit=123
            // this.$axios.get(API,{
            //     params : {}
            // }).then((res) => {
            //     this.post.title = res.data.data.title 
            // })
        },

        // TODO:7.å‘å¸ƒé€»è¾‘,æ‹¿storeå†…å®¹æäº¤è‡³å¯¹åº”æ¥å£
        toPublish:function (){
            console.log(this.$store.state)
            // this.toBuild()
        },
        toDraft : function (){
            console.log(this.$store.state)
            // this.toBuild()
        },
        toBuild : function (){
            // publishä¸draftæäº¤çš„publish_statuså­—æ®µä¸ä¸€æ ·
            // drafté»˜è®¤ä¸åº”è¯¥å¯¹æ¶ˆæ¯é€šçŸ¥ç­‰è¿›è¡Œå¤„ç†
            // å¯å°†å…¬å…±å¤„ç†éƒ¨åˆ†å†™åœ¨æ­¤
            // å¦‚æ²¡æœ‰è‰ç¨¿é€»è¾‘å¯è‡ªè¡Œåšç²¾ç®€
        },

        // 8.æ ç›®æœ¬åœ°ç›¸å…³æ–¹æ³•
        // TODO:...
    },
    mounted: function() {
        // åˆå§‹åŒ–é€‰é¡¹æ•°æ®
        // TODO:æ ç›®æœ¬åœ°é€‰é¡¹æ•°æ®

        // åˆå§‹åŒ–æ–‡ç« æ•°æ®,å¦‚æœæ˜¯ç¼–è¾‘æ¨¡å¼,åˆ™åº”åŠ è½½å¯¹åº”å†…å®¹
        if(location.search.indexOf('edit') >= 0){
            this.loadOrigin()
        }
        
    },
    filters: {},
    components: {
        boilerplate,
    },
};
</script>

<style lang="less">
@import "../assets/css/publish/cj.less";
</style>
